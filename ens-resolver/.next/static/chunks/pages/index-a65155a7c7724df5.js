(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{7059:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(4554)}])},4554:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Home}});var a=n(1527),l=n(876);let s={types:[{typeId:0,type:"()",components:[],typeParameters:null},{typeId:1,type:"(_, _)",components:[{name:"__tuple_element",type:3,typeArguments:null},{name:"__tuple_element",type:2,typeArguments:null}],typeParameters:null},{typeId:2,type:"b256",components:null,typeParameters:null},{typeId:3,type:"struct Address",components:[{name:"value",type:2,typeArguments:null}],typeParameters:null}],functions:[{inputs:[{name:"name",type:2,typeArguments:null},{name:"owner",type:3,typeArguments:null},{name:"ethereum",type:2,typeArguments:null}],name:"register",output:{name:"",type:0,typeArguments:null},attributes:[{name:"storage",arguments:["write","read"]}]},{inputs:[{name:"name",type:2,typeArguments:null}],name:"resolve",output:{name:"",type:1,typeArguments:null},attributes:[{name:"storage",arguments:["read"]}]}],loggedTypes:[],messagesTypes:[],configurables:[]};let TestContractAbi__factory=class TestContractAbi__factory{static createInterface(){return new l.vU_(s)}static connect(e,t){return new l.CHg(e,s,t)}static async deployContract(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=new l.lVW(e,s,t),{storageSlots:r}=TestContractAbi__factory,o=await a.deployContract({storageSlots:r,...n});return o}};TestContractAbi__factory.abi=s,TestContractAbi__factory.storageSlots=[];var r=JSON.parse('{"E":"0x3c404a0078eea19fd7e5cd7d3bf5b38593d5d0dc49a85186e652dc84790895d2"}');let FuelLogo=()=>(0,a.jsxs)("svg",{viewBox:"0 0 344 344",className:"PJLV PJLV-iiWunJk-css fuel_Logo w-[50px]",children:[(0,a.jsx)("rect",{x:"25",y:"37",width:"292",height:"284",fill:"black"}),(0,a.jsx)("path",{d:"M22.8744 0C10.2181 0 0 10.218 0 22.8744V344H284.626C294.246 344 303.497 340.179 310.308 333.368L333.368 310.308C340.179 303.497 344 294.246 344 284.626V0H22.8744ZM224.608 44.231L112.718 156.121C109.956 158.882 106.182 160.447 102.27 160.447C96.5631 160.447 91.3157 157.134 88.8763 151.978L45.5194 60.3402C41.9756 52.8383 47.4525 44.231 55.7374 44.231H224.608ZM44.231 299.769V190.916C44.231 185.117 48.9257 180.422 54.7249 180.422H163.577L44.231 299.769ZM172.598 160.447H136.559L244.998 52.0097C249.968 47.0382 256.734 44.231 263.776 44.231H299.814L191.377 152.668C186.407 157.64 179.64 160.447 172.598 160.447Z",fill:"#00F58C"})]});var o=n(959);let Input=e=>{let{value:t,onChange:n,placeholder:l,type:s,className:r}=e;return(0,a.jsx)("input",{value:t,onChange:n,placeholder:l,type:s,className:"border-2 border-gray-700 placeholder:text-gray-600 text-gray-400 rounded-md px-4 py-2 bg-transparent outline-none ".concat(r)})},Button=e=>{let{children:t,className:n,onClick:l}=e;return(0,a.jsx)("button",{className:"bg-fuel-green text-white px-4 py-2 rounded-md ".concat(n),onClick:l,children:t})};var c=n(5378),u=n(3826),i=n(4511);let p=r.E;function Home(){let[e,t]=(0,o.useState)(),[n,s]=(0,o.useState)(),r=(0,i.C9)().fuel,[m,d]=(0,o.useState)(""),[g,y]=(0,o.useState)(""),[f,h]=(0,o.useState)(""),[x,C]=(0,o.useState)(""),[_,v]=(0,o.useState)(!1),{connect:b,error:w,isError:N,theme:j,setTheme:A,isConnecting:k}=(0,i.ZZ)(),{disconnect:E}=(0,i.qL)(),{isConnected:L}=(0,i.T9)(),{account:S}=(0,i.mA)();(0,o.useEffect)(()=>{async function getAccounts(){let e=await r.currentAccount(),n=await r.getWallet(e);t(n)}r&&getAccounts()},[r]),(0,o.useMemo)(()=>{if(r&&e){let t=TestContractAbi__factory.connect(p,e);return s(t),t}return null},[r,e]);let onRegister=async()=>{if(!n)return alert("Contract not loaded");if(c.UJ(x)){let e=u.VM(m);console.log(e);let t={value:l.kLt.fromString(S).toB256()},a=x.padEnd(66,"0");console.log(a);let{value:s}=await n.functions.register(e,t,a).txParams({variableOutputs:1}).call();h(e),console.log(e)}else y("Ethereum address is invalid!")},onCheck=async()=>{if(!n)return alert("Contract not loaded");if(".fuel.eth"==m.slice(-9)&&m.length>9){let e=u.VM(m),{value:t}=await n.functions.resolve(e).dryRun(),a=t[1];console.log(a.slice(0,42)),console.log(e);let l="0x0000000000000000000000000000000000000000000000000000000000000000"==a;v(l),l||y("subdomain is unavailable!")}else y("subdomain is invalid!")},onConnect=async()=>{L?E():b()};return(0,a.jsxs)("div",{className:"min-h-screen items-center p-24 flex flex-col gap-6",children:[(0,a.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,a.jsx)(FuelLogo,{}),(0,a.jsx)("span",{className:"text-xl font-semibold",children:"ENS Resolver on Fuel"}),N&&(0,a.jsx)("p",{className:"Error",children:null==w?void 0:w.message}),(0,a.jsx)("button",{onClick:onConnect,children:(0,a.jsx)("u",{children:k?"Connecting...":L?"Disconnect":"Connect"})})]}),(0,a.jsx)("p",{className:"Error",children:g}),!_&&(0,a.jsxs)("div",{className:"flex flex-row",children:[(0,a.jsx)(Input,{className:"w-[300px] mt-8 ",value:m,onChange:e=>d(e.target.value),placeholder:"fidelio.fuel.eth"}),(0,a.jsx)(Button,{onClick:onCheck,className:"mt-8 ml-2 w-[100px]",children:"Check"})]}),_&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Input,{className:"w-[300px] mt-8",value:m,onChange:e=>d(e.target.value),placeholder:"Fuel Nomen"}),(0,a.jsx)(Input,{className:"w-[300px] ",value:x,onChange:e=>C(e.target.value),placeholder:"Ethereum Address"}),(0,a.jsx)(Button,{onClick:onRegister,className:"mt-6",children:"Register"})]})]})}}},function(e){e.O(0,[996,774,888,179],function(){return e(e.s=7059)}),_N_E=e.O()}]);